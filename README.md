## שער  
**שמות מגישים**: יוסף נאור חסון, אושר מגר  
**המערכת**: נטפליקס  
**היחידה הנבחרת**: תוכן וסוגי מדיה

# דוח פרויקט - שלב א
---

## תוכן עניינים  
1. [מבוא](#1-מבוא)  
2. [פירוט הישויות](#פירוט-הישויות)  
3. [תרשים ERD](#תרשים-erd)  
4. [טבלאות SQL (שלב מתקדם)](#טבלאות-sql-שלב-מתקדם)  
5. [סיכום](#סיכום)
6. [שלב ב'](#שלב-ב')

---

## 1. מבוא  

בפרויקט זה אנו עוסקים במערכת לניהול תוכן במדיה דיגיטלית, בדגש על פלטפורמה בסגנון Netflix.  
המערכת שומרת מידע מגוון הקשור לתכנים הזמינים לצפייה – סרטים, סדרות, פרקים, עונות, ז'אנרים, כותרים ומותגים (Franchises).  
כמו כן נשמרים גם פרסים בתחום הקולנוע והטלוויזיה והשייכות שלהם ליצירות השונות.

### מטרת המערכת  
מטרת המערכת היא לאפשר ייצוג וניהול עשיר של תוכן מדיה בפלטפורמת סטרימינג. המערכת תאפשר שמירה של:

- **סרטים וסדרות** – כולל מידע בסיסי כמו שם, שנה, דירוג, תיאור.
- **ז'אנרים** – פעולה של שיוך יצירות לתחומים כמו קומדיה, פעולה, מדע בדיוני ועוד.
- **עונות** – לכל סדרה ניתן לנהל כמה עונות.
- **פרקים** – כל עונה מורכבת מפרקים, עם מידע כמו משך, תאריך יציאה.
- **כותרים ופרנצ'ייזים (Franchises)** – קישור בין יצירות קשורות, לדוגמה "הארי פוטר" כסדרה של סרטים.
- **פרסים** – תיעוד של זכיות או מועמדויות בפרסי טלוויזיה וקולנוע, כגון אוסקר, גלובוס הזהב.

### פונקציונאליות מרכזית  
- **איתור תוכן לפי ז'אנר / שנה / סוג**  
- **קישור בין סדרות לפרקים ולעונות**  
- **בדיקת זכייה או מועמדות לפרסים עבור תכנים**  
- **ניווט בין תכנים הקשורים באותו פרנצ'ייז**  

---

## פירוט הישויות

### תרשים ERD
הדיאגרמה מתארת מודל ישויות-קשרים (ER) לניהול תוכן של כותרים מסוג סרטים וסדרות. כל כותר (Title) כולל מזהה, שם, דירוג גילאים ואפשרות להפניה לסרט המשך, והוא משתייך לאחד משני סוגים: סרט (Movie) או סדרת טלוויזיה (TV show). סרטים כוללים מידע על תאריך יציאה, משך וסוג, בעוד שסדרות כוללות מספר עונות. לכל סדרה יש עונות (Season), ולכל עונה יש מספר פרקים (Episode) עם מידע על משך, מספר פרק ותאריך שידור. כותרים יכולים להיות מקושרים לז'אנרים (Genre) באמצעות ישות אסוציאטיבית, וכן לשייך אותם למותגים (Franchise) דרך יישות נוספת. כמו כן, כותרים יכולים לזכות בפרסים (Award), כאשר כל פרס כולל את שמו, הגוף המעניק אותו ותוצאה. ההתמחויות בין כותרים לסוגיהם הן מפרדות (כל כותר הוא או סרט או סדרה) ושלמות (כל כותר חייב להשתייך לאחת מהקטגוריות). חלק מהיישויות הן חלשות (Season ו־Episode) ותלויות בקשרים מזהים למופעים אחרים. הדיאגרמה מספקת תשתית לייצוג נתונים מורכב של מדיה בצורה מודולרית ומקושרת היטב.

![the ERD Diagram ](https://github.com/user-attachments/assets/a5274f2d-9730-4993-8dea-9ecb0d8ca351)

---

## טבלאות SQL (שלב מתקדם)

### תרשים DSD
הדיאגרמה מתארת בסיס נתונים לניהול מידע על כותרים במדיה – סרטים וסדרות טלוויזיה – תוך שימוש בטבלאות ומפתחות זרים. הטבלה המרכזית היא Title, שמכילה פרטים כלליים על כל כותר כגון שם, דירוג גילאים, מזהה ייחודי וקישור אופציונלי לסרט המשך. כל כותר משויך לסוג אחד – סרט (Movie) או סדרת טלוויזיה (TV Show) – עם מידע מותאם: סרטים כוללים תאריך יציאה, משך וסוג, בעוד שסדרות כוללות מספר עונות. עונות (Season) מקושרות לסדרה באמצעות מזהה כותר, וכוללות מספר עונה, מספר פרקים ומצב (למשל "פעיל" או "הסתיים"). כל עונה מכילה פרקים (Episode) עם מספר פרק, משך ותאריך שידור. בנוסף, כותרים יכולים להשתייך לז'אנרים באמצעות טבלת MovieGenre, ולקבל פרסים דרך טבלת Award. כמו כן, כותרים עשויים להיות חלק ממותג מסוים (Franchise), דרך טבלת קישור "Belongs to". המבנה משתמש במפתחות ראשיים וזרים כדי לשמור על עקביות, עם שימוש בטבלאות ביניים לקשרים רבים-לרבים. הדיאגרמה מייצגת תשתית נורמלית ומודולרית המתאימה לניהול מידע עשיר ומקושר בתחום המדיה.

![the DSD Diagram ](https://github.com/user-attachments/assets/fbf1b545-afff-4f8d-a616-11a244a8d56e)

### הכנסת נתונים באמצעות mockaroo
הכנסנו את התוכן לקבצים באמצעות המחולל נתונים mockaroo

![WhatsApp Image 2025-04-22 at 18 53 11_f1fd6eeb](https://github.com/user-attachments/assets/aa995b80-6291-41a1-b140-0f07b395800b)

### הכנסת נתונים באמצעות קוד 
כתבנו קוד פייתון אשר מכניס לקבצים את הערכים באופן הבא:

![WhatsApp Image 2025-04-22 at 18 35 43_d1f13cbc](https://github.com/user-attachments/assets/fe20fbbd-6f65-49f1-ad64-08cb97c4798a)

### הכנסת נתונים ידנית
פה הכנסנו ידנית את הנתונים לתוך קובץ csv  
![image](https://github.com/user-attachments/assets/a741d760-ea89-4f17-98b5-63e136b4d79b)

## יצרנו קובץ גיבוי
בכדי שנוכל לשחזר את הנתונים ולעבוד משני המחשבים

![Screenshot 2025-05-16 013257](https://github.com/user-attachments/assets/200b11cd-a49a-4369-a242-23f8fa52557b)

## כעת עשינו restore:
![Screenshot 2025-05-19 225932](https://github.com/user-attachments/assets/bbd31e64-3a0f-4b06-b05c-180a7b03aab7)  
![Screenshot 2025-05-19 230026](https://github.com/user-attachments/assets/ae4627f7-7259-4701-b3bd-b235d5730749)

---

## סיכום

בשלב זה יצרנו תשתית מסודרת למערכת לניהול תוכן מדיה, הכוללת דיאגרמות ישויות, טבלאות SQL, והזנת נתונים מכלי חיצוני. נמשיך בפיתוח הפונקציונאליות והקשרים המתקדמים בין הישויות לקראת שלב ב'.

---

# שלב ב'
---
### שאילתות select:
---
1. שאילתא: סרטי פעולה, הרפתקאות ומותחן שפורסמו לפני שנת 2000
תיאור בעברית:
בחר את כל הסרטים מז'אנרים פעולה, הרפתקאות ומותחן שפורסמו לפני שנת 2000. השאילתא מציגה את שם הסרט, תאריך השחרור, אורך הסרט, וסוג הסרט.
![image](https://github.com/user-attachments/assets/3a8ef283-9cf2-445a-b2e0-097eb0a1d1c7)

---
2. שאילתא: קיבוץ סרטים לפי פרסים
תיאור בעברית:
קבץ סרטים לפי הפרסים שהם זכו בהם. אם הפרס ניתן על ידי ארגונים שונים, הכנס את כל הסרטים שזכו בפרס הזה באותה קבוצה. הצג את שם הפרס, מספר הסרטים שזכו, שמות הסרטים והארגונים המעניקים את הפרס.
---
![image](https://github.com/user-attachments/assets/6fdb0873-810c-4feb-b484-764959327a19)

3. שאילתא: סדרות טלוויזיה עם אורך פרק ממוצע מעל 50 דקות
תיאור בעברית:
בחר את כל סדרות הטלוויזיה בהן אורך פרק ממוצע עולה על 50 דקות. הצג את שם הסדרה ואורך הפרק הממוצע.
![image](https://github.com/user-attachments/assets/abc67b5d-f39f-44dd-bf0f-6be27a507106)

---
4. שאילתא: סדרות טלוויזיה עם זמן שידור כולל מתחת ל-5 שעות
תיאור בעברית:
בחר את כל סדרות הטלוויזיה בהן זמן השידור הכולל נמוך מ-5 שעות (300 דקות). הצג את שם הסדרה וזמן השידור הכולל.
![image](https://github.com/user-attachments/assets/3d1bd57b-3103-46e0-bc3d-aaa41c6ef269)

---

5. שאילתא: פרסים שזכו בהם בסדרת "שר הטבעות"
תיאור בעברית:
בחר את כל הפרסים שבהם זכו הכותרים בסדרת "שר הטבעות". הצג את שם הכותר, שם הפרס, הארגון המעניק ותוצאת הזכייה.
---

6. שאילתא: פרנצ'ייזים עם לפחות 3 דירוגי גיל שונים
תיאור בעברית:
בחר את כל הפרנצ'ייזים שבהם הכותרים כוללים לפחות 3 דירוגי גיל שונים. הצג את שם הפרנצ'ייז ומספר הדירוגים השונים.
---

7. שאילתא: סרטים שזכו בפרס "במאי הטוב ביותר"
תיאור בעברית:
בחר את כל הסרטים שזכו בפרס "במאי הטוב ביותר" משלושה ארגונים שונים לפחות. הצג את שם הסרט ומספר הארגונים שבהם זכה בפרס.
---
8. שאילתא: סרטים שהם המשך לסדרת טלוויזיה
תיאור בעברית:
בחר את כל הסרטים שהם המשך לסדרת טלוויזיה. הצג את שם הסרט ושם סדרת הטלוויזיה המקורית.
![image](https://github.com/user-attachments/assets/ab070cec-3064-4ab0-ba73-107a0ca23df2)

---
### שאילתות delete:
---
1. מחק כותרים לפני שנת 1975 שלא זכו בפרסים
תיאור בעברית:
מחק את כל הכותרים שפורסמו לפני שנת 1975 ושלא זכו באף פרס. פעולה זו מוחקת סרטים או סדרות טלוויזיה שלא זכו בפרסים ולא נמצאים בתאריכים מתאימים, כולל מחיקות ממסדי נתונים קשורים כמו Movie, TV_Show ו-Title.
![image](https://github.com/user-attachments/assets/593bd7ad-b053-4ea7-8bc9-5d0a92294954)

---
2. מחק עונות טלוויזיה עם מספר עונה מעל 20
תיאור בעברית:
מחק את כל עונות הטלוויזיה שבהן מספר העונה עולה על 20. הפעולה כוללת מחיקה מעונה ומפרקים הקשורים.
---
3. מחק כותרים מסדרת "הארי פוטר"
תיאור בעברית:
מחק את כל הכותרים השייכים לפרנצ'ייז "הארי פוטר", כולל מחיקות מקושרות כמו פרסים, ז'אנרים, עונות, פרקים, כותרים ועוד.
---
### שאילתות update:
---
1. עדכן דירוג גיל לסרטים שפורסמו לפני 2000
תיאור בעברית:
עדכן את דירוג הגיל של כל סרט שפורסם לפני שנת 2000 ל-18, בגלל תקני תוכן מודרניים מחמירים יותר.
---
2. עדכן את המצב של עונה ל"Completed"
תיאור בעברית:
עדכן את מצב העונה ל"Completed" אם כל הפרקים שלה שודרו.
---
3. עדכן את שם הפרנצ'ייז אם השם השתנה
תיאור בעברית:
עדכן את שם הפרנצ'ייז ל-"The Adventures Reborn" אם הכותרים בו מתחילים בשם "The Adventures"
---

